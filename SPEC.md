# 📜 感情熱力学モデル (ETCM) — 簡易仕様書（最終完全清書版・2025年12月改訂）

**プロジェクト名**：感情球体 3D 可視化システム（時間心理力学）  
**フレームワーク**：HTML + JavaScript + Three.js r168+  
**最終更新**：2025年12月12日

## 1. 概要

本システムは、感情を「非平衡・開放情報熱力学系」として物理的に再定義し、内部オーラ（19粒子）と外部オーラ（L6場）の動的相互作用をリアルタイム3Dシミュレーションで可視化する、世界で唯一の学術的感情物理シミュレータです。

- 内部オーラ：6層19粒子の球体構造（中心核1個＋L0～L5層18粒子）
- 外部オーラ：背景に広がる光体／場（L6）＋パーティクルクラウド

**基本操作**  
- マウスドラッグ：カメラ回転  
- ホイール：ズーム  
- 右下パネル：UI開閉

## 2. 層構造と物性相（最新整合版）

| 層          | 次元 n | 名称           | 物性相            | 感情粒子（3種）       | 役割・物理的特徴                              |
|-------------|--------|----------------|-------------------|-----------------------|-----------------------------------------------|
| 中心核      | —      | 光源 (Core)    | 量子流体 (BEC)    | —                     | 情熱エネルギーの特異点・超流動性              |
| L0          | 3      | 核層           | Light／超流動体   | 悩・怒・好            | 根源的意志・低エントロピー源                  |
| L1          | 4      | 身体層         | 気体              | 哀・激・楽            | 本能・熱対流・天気                            |
| L2          | 5      | 思考層         | 液体（粘弾性体）  | 嫌・活・融            | 認知・潮汐駆動                                |
| L3          | 6      | 文明層         | 固体              | 圧・喜・笑            | 信念・社会的基盤                              |
| L4          | 7      | 外部接合層     | 液体（粘弾性体）  | 調・変・静            | 他者との緩衝ゾーン                            |
| L5          | 8      | 外部雰囲気層   | 気体              | 観・響・隔            | 場の空気・集合心理・L6との境界                |
| L6          | —      | 外部オーラ     | 光体／場          | —                     | 負のエントロピー源・非平衡駆動源（他者・推し）|

**合計粒子数**：19（中心核1＋各層3×6）

## 3. 核心数理（2025年12月完全改訂版）

### Bₙ の定義（偏移パラメータの累積和）

- B₃ = b  
- B₄ = b+c  
- B₅ = b+c+d  
- B₆ = b+c+d+e  
- B₇ = b+c+d+e+f  
- B₈ = b+c+d+e+f+g

### 3.1 総ポテンシャル Sₙ（層別累積連鎖）

| 層 | 次元 n | 総ポテンシャル Sₙ            | 備考                 |
|----|--------|-------------------------------|----------------------|
| L0 | 3      | S₃ = a + 3B₃                  | 核層（意志の原点）   |
| L1 | 4      | S₄ = a + 3B₄                  |                      |
| L2 | 5      | S₅ = a + 3B₅                  |                      |
| L3 | 6      | S₆ = a + 3B₆                  |                      |
| L4 | 7      | S₇ = a + 3B₇                  |                      |
| L5 | 8      | S₈ = a + 3B₈                  | 最外層               |

### 3.2 動的安定定数 πₙ（22/7-69/22 理論）

**統一式**（全層共通）

\[
\pi_n = \frac{3(7S_n + B_n) + S_n}{7S_n + B_n}
= \frac{22a + 69B_n}{7a + 22B_n}
\]

**範囲定理**  
\[
\frac{69}{22} \approx 3.136364 \leq \pi_n \leq \frac{22}{7} \approx 3.142857
\]

### 3.3 n次元球体体積 Vₙ・情報密度 ρₙ

\[
V_n = \frac{\pi_n^{n/2}}{\Gamma\left(\frac{n}{2} + 1\right)}
\qquad
\rho_n = \frac{V_n}{n^2}
\]

### 3.4 幾何学的影響因子 Γₙ（マスター制御変数）

\[
\Gamma_n = \ln(1 + \rho_n)
\]

### 3.5 層半径 Rₙ の厳密な物理式

\[
R_{\text{Layer}, n}(t) = \bigl(R_{\text{Base}, n} \cdot V_n^{1/n}\bigr) \cdot \bigl(1 + K_R \cdot (\bar{m}_{\text{eff}, n}(t) - M_{\text{Ref}})\bigr)
\]

## 4. 物理法則と運動方程式

\[
m_{\text{eff}} \frac{d^2\mathbf{r}}{dt^2}
= \mathbf{F}_{\text{Gravity}} + \mathbf{F}_{\text{Repulsion}} + \mathbf{F}_{\text{Drive}} + \mathbf{F}_{\text{Drag}}
\]

### 4.1 粘性係数 ηₙ の動的定義

| 物性相       | 粘性係数 ηₙ の式                                  | 物理的解釈                                                    |
|--------------|----------------------------------------------------|---------------------------------------------------------------|
| 気体 (L1/L5) | ηₙ = K_G ρₙ T⁻¹                                    | 情報幾何学的粘性：興奮で情報抵抗が減少し流動性が増す          |
| 液体 (L2/L4) | ηₙ = K_L ρₙ (1 + \bar{\sigma}_n)⁻¹                 | チクソトロピー：思考が滑らかになる                            |
| 固体 (L3)    | ηₙ = K_S ρₙ（極高値）＋微小ランダム項             | 地殻変動・地震的微動をデフォルト化し外部流入を確保            |

### 4.2 恒常性維持機構

1. 非線形点火（蘇生）：T_L5 > T_Crit → W_Drive ∝ exp[K_NL (T_L5 − T_Crit)]  
2. 光源温度負帰還：T_Source = T_Base + K_T (S_Target − S_Total)

### 4.3 L6 外部オーラ操作（簡易天気ボタン）

| 外部オーラの天気 | 駆動の物理的特性                              |
|------------------|-----------------------------------------------|
| 喜（高活性）     | 純粋輻射駆動力 → L5加熱 → L0点火促進          |
| 怒（高応力）     | 強い潮汐力＋剪断応力 → L2/L4乱流影響          |
| 楽（中活性）     | 定常駆動力 → 散逸と均衡                        |
| 哀（低活性）     | 最小駆動力 → 熱的死へ傾倒                     |
| 無（停止）       | 強制停止 → 非平衡性の解消                     |

※ ボタン押下で即時反映（内部パラメータを上書き）

## 5. UI・観測指標（リアルタイム表示）

| 指標名            | 計算方法                          | 表示例          |
|-------------------|-----------------------------------|-----------------|
| 平均 πₙ           | 全層 πₙ 加重平均                  | 3.141592        |
| 実効体積 V_Total  | Σ Vₙ                              | 2.73e+15        |
| 支配的感情名      | T 最大の粒子＋季節・天気          | 「喜（春・喜）」|
| 脳波／季節／天気  | L5層 T, σ, dT/dt から統一判定     | α波・春・喜     |
| 層半径変動        | 上記厳密式                        | 視覚的膨張・収縮|

### 脳波・天気・季節の統一判定条件

| 脳波 | 天気/季節 | 判定条件（L5層全体平均値基準）                |
|------|-----------|-----------------------------------------------|
| β波  | 怒/夏    | 高T・高σ・急激dT/dt（興奮）                   |
| α波  | 喜/春    | 中T・中σ・安定変動（活動的意識）              |
| θ波  | 楽/秋    | 低中T・低σ・緩やか変動（内省的快適さ）        |
| δ波  | 哀/冬    | 低T・低σ・微変動または停滞（深い休息・散逸）  |

※ 局所天気は粒子通過で変動、全体天気は平均値優先

## 6. 入力プロトコル（TOON形式・拡張版）

現在検討中（将来的に時系列感情データ対応予定）  
現時点では以下の簡易方法を採用：

- index.html のテキストエリアに JSON を貼り付ける（開発中）
- 右下パネルの「外部オーラの天気」ボタン（喜・怒・楽・哀・無）で即時制御

## 7. 起動方法

```bash
npx serve .
# または
python -m http.server 8000
```

→ http://localhost:8000 にアクセス

**結論**  
ETCM は単なる感情の可視化ツール。

感情は宇宙であり、宇宙は感情であり、その円周率すらも生きている。