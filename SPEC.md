# 📜 感情熱力学モデル (ETCM) — 簡易仕様書
プロジェクト名：感情球体 3D 可視化システム（時間心理力学）
フレームワーク：HTML + Three.js + 感情次元力学（DDD / ETCM）
最終更新：2025年12月2日（相互作用・恒常性維持機構統合済み）
1. 概要と構成
本システムは、感情を**「非平衡・開放情報熱力学系」**として扱い、内部オーラ（19粒子）と外部オーラ（パーティクルクラウド）の相互作用を可視化します。
| 要素 | 役割 | 構成 | 視覚表現 |
|---|---|---|---|
| 内部オーラ | ユーザーの内的な感情状態 | 6層構造の19粒子（中心核1 + 18粒子） | 中央の球体の周りを周回する粒子 |
| 外部オーラ | 外部環境・他者からの影響 | L6（外部オーラ）の場と強制力 | 背景の球状パーティクルクラウド |
基本操作：カメラ回転（マウスドラッグ）、ズーム（マウスホイール）、UIパネル開閉。
2. 構成要素と物性相（Phase-Corrected Structure）
粒子の動的挙動を規定するため、各層には流体力学に基づいた物性相が割り当てられます。
| 層（Layer） | 次元 n | 名称 | 修正後の物性相 | 役割の物理的特徴 |
|---|---|---|---|---|
| 中心核 | - | 光源 (Light) | 量子流体 (BEC) | 情熱エネルギーの源泉。超流動性。 |
| L0 | 2 | 核層 | Light / 超流動体 | 根源的意志。低エントロピー源。 |
| L1 | 3 | 身体層 | 気体 | 運動・行動の場。熱対流駆動（天気）。 |
| L2 | 4 | 思考層 | 液体（粘弾性体） | 認知・記憶の場。潮汐力駆動。 |
| L3 | 5 | 文明層 | 固体 | 社会性。応力集中の中間相。 |
| L4 | 6 | 外部接合層 | 液体（粘弾性体） | 環境との緩衝。L2と同一相。 |
| L5 | 7 | 外部雰囲気層 | 気体 | 本人境界。L1と同一相。外部環境との動的相互作用境界。 |
| L6 | - | 外部オーラ | 光体/場 | 非平衡駆動源（負のエントロピー流）。 |
3. 核心数理と次元力学（DDD/ETCM）
システムの幾何学と力学は、層ごとの数理変数に集約されます。
| 数理変数 | 定義 | 役割 |
|---|---|---|
| 総ポテンシャル S_n | S_n = S_{n-1} + \Delta S_n | 層ごとの累積エネルギー。連鎖構造。 |
| 動的安定定数 \pi_n | \pi_n = \frac{22 S_n + 3b}{7 S_n + b} | 構造安定性を規定する次元円周率。 |
| 情報密度 \rho_n | \rho_n = V_n / n^2 | 創発重力 G_{\text{eff}} の直接的源 (G_{\text{eff}} \propto \rho_n)。 |
| 幾何学的影響因子 \Gamma_n | \Gamma_n = \ln(1 + \rho_n) | すべての力学・視覚効果を制御するマスター変数。 |
光源 (Light Source) と恒常性維持
光源（中心核）は、システムの創発重力場 F_G の源泉であり、エネルギー枯渇を防ぐ熱源として機能します。
 * 創発重力強度（有効慣性質量 m_{\text{eff}}）: \Gamma_{\text{avg}} に比例。
 * 恒常性維持（温度 \text{T}_{\text{Source}}）: S_{\text{Total}} の逸脱に応じて \text{T}_{\text{Source}} を調整し、システムを安定オーラ（「楽」）へ自己回帰させます。
4. 物理モデルの駆動と恒常性維持機構
4.1. L6 \leftrightarrow L5 相互作用：光体と気体の流体力学 【強化・追記】
最外層であるL5層（気体相）は、L6（光体/場）からの外部強制力（T_{\text{Env}}, \sigma_{\text{Env}}, \mathbf{F}_{\text{Tidal}}）を受け取る境界です。L6の影響は、L5自身の物理状態によって**増幅（共鳴）または減衰（遮蔽）**されます。
| L5の平均物理変数 | 役割（光体-気体 流体力学アナロジー） | 変調効果の例 |
|---|---|---|
| 平均有効質量 \bar{m}_{\text{eff}, L5} | 慣性（抵抗/遮蔽） | 高 \bar{m}_{\text{eff}}（重い気体）\rightarrow L6からの外部ストレス \sigma_{\text{Env}} を減衰（遮蔽）。 |
| 平均温度 T_{\text{avg}, L5} | 熱活性度（増幅/浮力） | 高 T（熱い気体）\rightarrow L6からの輻射エネルギー T_{\text{Env}} を増幅（共鳴）。 |
| 平均応力 \sigma_{\text{avg}, L5} | 内部乱流度（共鳴/カオス） | 高 \sigma（内部乱流）\rightarrow L6からの潮汐力 \mathbf{F}_{\text{Tidal}} や \sigma_{\text{Env}} を増幅（カオスへの移行を促進）。 |
4.2. 太陽のアナロジー：非平衡駆動源
システムは、粘性による不可逆的なエントロピー生成を、L6からの負のエントロピー流によって相殺し、恒久的な運動を維持する非平衡定常状態として成立します。
 * L6（外部オーラ）の役割: L6の「喜怒哀楽」操作は、システムに対する外部強制力（駆動力 W_{\text{Drive}}）として作用し、秩序だったエネルギーを注入します。
 * 静水圧平衡: 粒子軌道は、創発重力による引力と、熱圧 \mathbf{P}_{\text{Thermal}} の斥力の動的バランス（太陽の安定性）によって維持されます。
4.3. 流体力学的駆動力 \mathbf{F}_{\text{Drive}}
粘性抗力 \mathbf{F}_{\text{Drag}} = - \eta_n \mathbf{v} による軌道減衰を打ち消すため、層の物性相に応じた駆動力 \mathbf{F}_{\text{Drive}} が作用します。
| 層相 | 駆動力の源泉 | 作用のメカニズム |
|---|---|---|
| 気体相 (L1/L5) | L0とL2の温度差 \Delta T | **熱対流（天気）**による浮力 \mathbf{F}_{\text{Buoyancy}}。 |
| 液体相 (L2/L4) | L6光体の重力ポテンシャル勾配 | 潮汐力 \mathbf{F}_{\text{Tidal}} による周期的な流動。 |
4.4. 熱と応力の可逆的伝導
熱（T）と応力（\sigma）は、層の平均値を介した双方向（可逆的）勾配伝導として実行されます。外部環境（L5）の影響は、上記の変調を経て核（L0）にフィードバックされます。
5. UIと観測指標
5.1. 必須観測指標 (Academic Observation Metrics)
| 指標名 | 決定ロジック | 役割 |
|---|---|---|
| 脳波/季節/天気 | L5層の平均 T, \sigma と T の時間変化率から統一的に決定。 | 全体的な感情の活性度・安定性。 |
| 平均 \pi_n | 全層の \pi_n の平均値。 | システムの全体的な次元安定度を示す。 |
| 支配的感情名 | 温度 T が最大値を持つ粒子の名称。 | 感情システムの現在の活性化傾向を特定。 |
| 層半径 R_{\text{Layer}} | \bar{m}_{\text{eff}} (平均有効質量) に連動して動的に変動。 | 熱圧と重力の平衡状態を幾何学的に表現。 |
5.2. 操作パネル
 * 外部オーラ操作パネル: UIボタンにより、環境温度 T_{\text{Env}} と外部ストレス \sigma_{\text{Env}} を設定し、L6の駆動力を操作します。
 * AIパラメータ入力パネル: TOON形式のパラメータ（例: T_activity_avg, M_inertia_avg）を入力し、シミュレーションの初期状態を学術的に制御します。
